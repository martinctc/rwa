<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to Relative Weights Analysis with the rwa Package • rwa</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to Relative Weights Analysis with the rwa Package">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-138721086-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-138721086-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rwa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction-to-rwa.html">Introduction to Relative Weights Analysis with the rwa Package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/martinctc/rwa/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to Relative Weights Analysis with
the rwa Package</h1>
                        <h4 data-toc-skip class="author">Martin
Chan</h4>
            
            <h4 data-toc-skip class="date">2025-07-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/martinctc/rwa/blob/master/vignettes/introduction-to-rwa.Rmd" class="external-link"><code>vignettes/introduction-to-rwa.Rmd</code></a></small>
      <div class="hidden name"><code>introduction-to-rwa.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/martinctc/rwa" class="external-link">rwa</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load ggplot2 if available, otherwise skip plotting examples</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"ggplot2"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span>  <span class="va">has_ggplot2</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">has_ggplot2</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"ggplot2 not available - skipping plotting examples"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><strong>Relative Weights Analysis (RWA)</strong> is a powerful method
for determining the relative importance of predictor variables in
multiple regression models, particularly when dealing with
multicollinearity. This vignette provides a comprehensive guide to using
the <code>rwa</code> package, explaining the methodology, interpreting
results, and exploring advanced features including bootstrap confidence
intervals.</p>
</div>
<div class="section level2">
<h2 id="background-and-methodology">Background and Methodology<a class="anchor" aria-label="anchor" href="#background-and-methodology"></a>
</h2>
<div class="section level3">
<h3 id="what-is-relative-weights-analysis">What is Relative Weights Analysis?<a class="anchor" aria-label="anchor" href="#what-is-relative-weights-analysis"></a>
</h3>
<p>Relative Weights Analysis addresses a fundamental problem in multiple
regression: when predictor variables are correlated with each other
(multicollinearity), it becomes difficult to determine the true
contribution of each variable to the outcome. Traditional regression
coefficients can be misleading, unstable, or difficult to interpret in
the presence of multicollinearity.</p>
<p>RWA decomposes the total variance predicted in a regression model
(R²) into weights that accurately reflect the proportional contribution
of the various predictor variables. The method implemented in this
package is based on <strong>Tonidandel and LeBreton (2015)</strong>,
with its original roots in <strong>Johnson (2000)</strong>.</p>
</div>
<div class="section level3">
<h3 id="how-rwa-works">How RWA Works<a class="anchor" aria-label="anchor" href="#how-rwa-works"></a>
</h3>
<p>The core insight of RWA is to create a set of orthogonal
(uncorrelated) variables that are maximally related to the original
predictors, then use these in a regression model. The process
involves:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Eigenvalue decomposition</strong> of the predictor
correlation matrix</li>
<li>
<strong>Transformation</strong> of predictors into orthogonal
components</li>
<li>
<strong>Regression</strong> using the transformed predictors</li>
<li>
<strong>Decomposition</strong> of R² into relative weights</li>
</ol>
<p>This approach allows us to determine each variable’s unique
contribution to the explained variance, even when predictors are highly
correlated.</p>
</div>
<div class="section level3">
<h3 id="when-to-use-rwa">When to Use RWA<a class="anchor" aria-label="anchor" href="#when-to-use-rwa"></a>
</h3>
<p>RWA is particularly useful when:</p>
<ul>
<li>
<strong>Multicollinearity</strong> is present among predictors</li>
<li>You need to <strong>rank variables</strong> by importance</li>
<li>
<strong>Traditional regression coefficients</strong> are unstable or
difficult to interpret</li>
<li>You want to understand <strong>proportional contributions</strong>
to explained variance</li>
<li>Conducting <strong>key drivers analysis</strong> in market research
or business analytics</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<div class="section level3">
<h3 id="simple-example-with-mtcars">Simple Example with mtcars<a class="anchor" aria-label="anchor" href="#simple-example-with-mtcars"></a>
</h3>
<p>Let’s start with a basic example using the built-in
<code>mtcars</code> dataset to predict fuel efficiency
(<code>mpg</code>):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic RWA</span></span>
<span><span class="va">result_basic</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"mpg"</span>,</span>
<span>      predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"gear"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the results</span></span>
<span><span class="va">result_basic</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="co">#&gt;   Variables Raw.RelWeight Rescaled.RelWeight Sign</span></span>
<span><span class="co">#&gt; 1       cyl     0.2284797           29.32274    -</span></span>
<span><span class="co">#&gt; 2      disp     0.2221469           28.50999    -</span></span>
<span><span class="co">#&gt; 3        hp     0.2321744           29.79691    -</span></span>
<span><span class="co">#&gt; 4      gear     0.0963886           12.37037    +</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="understanding-the-output">Understanding the Output<a class="anchor" aria-label="anchor" href="#understanding-the-output"></a>
</h3>
<p>The basic output includes several key components:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Predictor variables used</span></span>
<span><span class="va">result_basic</span><span class="op">$</span><span class="va">predictors</span></span>
<span><span class="co">#&gt; [1] "cyl"  "disp" "hp"   "gear"</span></span>
<span></span>
<span><span class="co"># Model R-squared</span></span>
<span><span class="va">result_basic</span><span class="op">$</span><span class="va">rsquare</span></span>
<span><span class="co">#&gt; [1] 0.7791896</span></span>
<span></span>
<span><span class="co"># Number of complete observations</span></span>
<span><span class="va">result_basic</span><span class="op">$</span><span class="va">n</span></span>
<span><span class="co">#&gt; [1] 32</span></span>
<span></span>
<span><span class="co"># Correlation matrices (for advanced users)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">result_basic</span><span class="op">$</span><span class="va">RXX</span><span class="op">)</span>  <span class="co"># Predictor correlation matrix</span></span>
<span><span class="co">#&gt;  num [1:4, 1:4] 1 0.902 0.832 -0.493 0.902 ...</span></span>
<span><span class="co">#&gt;  - attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   ..$ : chr [1:4] "cyl" "disp" "hp" "gear"</span></span>
<span><span class="co">#&gt;   ..$ : chr [1:4] "cyl" "disp" "hp" "gear"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">result_basic</span><span class="op">$</span><span class="va">RXY</span><span class="op">)</span>  <span class="co"># Predictor-outcome correlations</span></span>
<span><span class="co">#&gt;  Named num [1:4] -0.852 -0.848 -0.776 0.48</span></span>
<span><span class="co">#&gt;  - attr(*, "names")= chr [1:4] "cyl" "disp" "hp" "gear"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="interpreting-the-results-table">Interpreting the Results Table<a class="anchor" aria-label="anchor" href="#interpreting-the-results-table"></a>
</h3>
<p>The main results table contains:</p>
<ul>
<li>
<strong>Variables</strong>: Names of predictor variables</li>
<li>
<strong>Raw.RelWeight</strong>: Raw relative weights (sum to
R²)</li>
<li>
<strong>Rescaled.RelWeight</strong>: Rescaled weights as percentages
(sum to 100%)</li>
<li>
<strong>Sign</strong>: Direction of relationship with outcome
(+/-)</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The rescaled weights show relative importance</span></span>
<span><span class="va">result_basic</span><span class="op">$</span><span class="va">result</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">Rescaled.RelWeight</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Variables Raw.RelWeight Rescaled.RelWeight Sign</span></span>
<span><span class="co">#&gt; 1        hp     0.2321744           29.79691    -</span></span>
<span><span class="co">#&gt; 2       cyl     0.2284797           29.32274    -</span></span>
<span><span class="co">#&gt; 3      disp     0.2221469           28.50999    -</span></span>
<span><span class="co">#&gt; 4      gear     0.0963886           12.37037    +</span></span>
<span></span>
<span><span class="co"># Raw weights sum to R-squared</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">result_basic</span><span class="op">$</span><span class="va">result</span><span class="op">$</span><span class="va">Raw.RelWeight</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.7791896</span></span>
<span><span class="va">result_basic</span><span class="op">$</span><span class="va">rsquare</span></span>
<span><span class="co">#&gt; [1] 0.7791896</span></span>
<span></span>
<span><span class="co"># Rescaled weights sum to 100%</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">result_basic</span><span class="op">$</span><span class="va">result</span><span class="op">$</span><span class="va">Rescaled.RelWeight</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 100</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-features">Advanced Features<a class="anchor" aria-label="anchor" href="#advanced-features"></a>
</h2>
<div class="section level3">
<h3 id="adding-signs-to-weights">Adding Signs to Weights<a class="anchor" aria-label="anchor" href="#adding-signs-to-weights"></a>
</h3>
<p>The <code>applysigns</code> parameter adds directional information to
help interpret whether variables positively or negatively influence the
outcome:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result_signs</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"mpg"</span>,</span>
<span>      predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"gear"</span><span class="op">)</span>,</span>
<span>      applysigns <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result_signs</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="co">#&gt;   Variables Raw.RelWeight Rescaled.RelWeight Sign Sign.Rescaled.RelWeight</span></span>
<span><span class="co">#&gt; 1       cyl     0.2284797           29.32274    -               -29.32274</span></span>
<span><span class="co">#&gt; 2      disp     0.2221469           28.50999    -               -28.50999</span></span>
<span><span class="co">#&gt; 3        hp     0.2321744           29.79691    -               -29.79691</span></span>
<span><span class="co">#&gt; 4      gear     0.0963886           12.37037    +                12.37037</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h3>
<p>The package automatically generates a visualization of the relative
importance:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate plot (returned invisibly by default)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">has_ggplot2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">plot_result</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"mpg"</span>,</span>
<span>        predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"gear"</span>, <span class="st">"wt"</span><span class="op">)</span>,</span>
<span>        plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># The plot shows rescaled relative weights</span></span>
<span>  <span class="va">plot_result</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Note: Visualization requires ggplot2 package."</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt;   Variables Raw.RelWeight Rescaled.RelWeight Sign</span></span>
<span><span class="co">#&gt; 1       cyl    0.18833374          22.128264    -</span></span>
<span><span class="co">#&gt; 2      disp    0.16479802          19.362936    -</span></span>
<span><span class="co">#&gt; 3        hp    0.18809142          22.099792    -</span></span>
<span><span class="co">#&gt; 4      gear    0.07345304           8.630361    +</span></span>
<span><span class="co">#&gt; 5        wt    0.23642417          27.778646    -</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="bootstrap-confidence-intervals">Bootstrap Confidence Intervals<a class="anchor" aria-label="anchor" href="#bootstrap-confidence-intervals"></a>
</h2>
<p>One of the most powerful features of the <code>rwa</code> package is
the ability to calculate bootstrap confidence intervals for relative
weights, addressing the long-standing issue of statistical significance
testing in RWA.</p>
<div class="section level3">
<h3 id="why-bootstrap-for-rwa">Why Bootstrap for RWA?<a class="anchor" aria-label="anchor" href="#why-bootstrap-for-rwa"></a>
</h3>
<p>As noted by Tonidandel et al. (2009):</p>
<blockquote>
<p>“The difficulty in determining the statistical significance of
relative weights stems from the fact that the exact (or small sample)
sampling distribution of relative weights is unknown.”</p>
</blockquote>
<p>Bootstrap methods provide a solution by empirically estimating the
sampling distribution of relative weights.</p>
</div>
<div class="section level3">
<h3 id="basic-bootstrap-analysis">Basic Bootstrap Analysis<a class="anchor" aria-label="anchor" href="#basic-bootstrap-analysis"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Bootstrap analysis with 1000 samples</span></span>
<span><span class="va">result_bootstrap</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"mpg"</span>,</span>
<span>      predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"gear"</span><span class="op">)</span>,</span>
<span>      bootstrap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      n_bootstrap <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>      conf_level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results with confidence intervals</span></span>
<span><span class="va">result_bootstrap</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="co">#&gt;   Variables Raw.RelWeight Rescaled.RelWeight Sign Raw.RelWeight.CI.Lower</span></span>
<span><span class="co">#&gt; 1       cyl     0.2284797           29.32274    -             0.17336836</span></span>
<span><span class="co">#&gt; 2      disp     0.2221469           28.50999    -             0.15772412</span></span>
<span><span class="co">#&gt; 3        hp     0.2321744           29.79691    -             0.18864625</span></span>
<span><span class="co">#&gt; 4      gear     0.0963886           12.37037    +             0.04155014</span></span>
<span><span class="co">#&gt;   Raw.RelWeight.CI.Upper Raw.Significant</span></span>
<span><span class="co">#&gt; 1              0.2788206            TRUE</span></span>
<span><span class="co">#&gt; 2              0.2804741            TRUE</span></span>
<span><span class="co">#&gt; 3              0.2811493            TRUE</span></span>
<span><span class="co">#&gt; 4              0.1843592            TRUE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="understanding-bootstrap-results">Understanding Bootstrap Results<a class="anchor" aria-label="anchor" href="#understanding-bootstrap-results"></a>
</h3>
<p>The bootstrap analysis adds several columns to the results:</p>
<ul>
<li>
<strong>Raw.RelWeight.CI.Lower/Upper</strong>: 95% confidence
intervals for raw weights</li>
<li>
<strong>Raw.Significant</strong>: Whether the weight is
significantly different from zero</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Bootstrap-specific information</span></span>
<span><span class="va">result_bootstrap</span><span class="op">$</span><span class="va">bootstrap</span><span class="op">$</span><span class="va">n_bootstrap</span></span>
<span><span class="co">#&gt; [1] 1000</span></span>
<span><span class="va">result_bootstrap</span><span class="op">$</span><span class="va">bootstrap</span><span class="op">$</span><span class="va">ci_results</span><span class="op">$</span><span class="va">raw_weights</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 6</span></span></span>
<span><span class="co">#&gt;   variable weight_index ci_lower ci_upper ci_method ci_type</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> cyl                 1   0.173     0.279 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> disp                2   0.158     0.280 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> hp                  3   0.189     0.281 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> gear                4   0.041<span style="text-decoration: underline;">6</span>    0.184 bca       raw</span></span>
<span></span>
<span><span class="co"># Identify significant predictors</span></span>
<span><span class="va">significant_vars</span> <span class="op">&lt;-</span> <span class="va">result_bootstrap</span><span class="op">$</span><span class="va">result</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Raw.Significant</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">Variables</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Significant predictors:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">significant_vars</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Significant predictors: cyl, disp, hp, gear</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comprehensive-bootstrap-analysis">Comprehensive Bootstrap Analysis<a class="anchor" aria-label="anchor" href="#comprehensive-bootstrap-analysis"></a>
</h3>
<p>For more detailed analysis, you can request comprehensive bootstrap
results:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Comprehensive bootstrap with focal variable comparison</span></span>
<span><span class="va">result_comprehensive</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"mpg"</span>,</span>
<span>      predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"gear"</span>, <span class="st">"wt"</span><span class="op">)</span>,</span>
<span>      bootstrap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      comprehensive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      focal <span class="op">=</span> <span class="st">"wt"</span>,  <span class="co"># Compare other variables to weight</span></span>
<span>      n_bootstrap <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>  <span class="co"># Fewer samples for speed</span></span>
<span></span>
<span><span class="co"># Access detailed bootstrap results</span></span>
<span><span class="va">result_comprehensive</span><span class="op">$</span><span class="va">bootstrap</span><span class="op">$</span><span class="va">ci_results</span></span>
<span><span class="co">#&gt; $raw_weights</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   variable weight_index ci_lower ci_upper ci_method ci_type</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> cyl                 1   0.147     0.238 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> disp                2   0.119     0.195 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> hp                  3   0.145     0.229 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> gear                4   0.035<span style="text-decoration: underline;">7</span>    0.142 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> wt                  5   0.182     0.302 bca       raw    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $random_comparison</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   variable weight_index ci_lower ci_upper ci_method ci_type  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Var6                1   0.147     0.271 bca       rand_diff</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Var7                2   0.125     0.217 bca       rand_diff</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Var8                3   0.152     0.285 bca       rand_diff</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Var9                4   0.024<span style="text-decoration: underline;">6</span>    0.157 bca       rand_diff</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Var10               5   0.172     0.325 bca       rand_diff</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $focal_comparison</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 6</span></span></span>
<span><span class="co">#&gt;   variable weight_index ci_lower  ci_upper ci_method ci_type   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Var11               1   -<span style="color: #BB0000;">0.130</span>  0.059<span style="text-decoration: underline;">7</span>   bca       focal_diff</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Var12               2   -<span style="color: #BB0000;">0.159</span> -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">925</span> bca       focal_diff</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Var13               3   -<span style="color: #BB0000;">0.130</span>  0.048<span style="text-decoration: underline;">1</span>   bca       focal_diff</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Var14               4   -<span style="color: #BB0000;">0.255</span> -<span style="color: #BB0000;">0.069</span><span style="color: #BB0000; text-decoration: underline;">7</span>   bca       focal_diff</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="working-with-rescaled-weight-confidence-intervals">Working with Rescaled Weight Confidence Intervals<a class="anchor" aria-label="anchor" href="#working-with-rescaled-weight-confidence-intervals"></a>
</h3>
<p><strong>Important Note</strong>: Rescaled weight confidence intervals
should be interpreted with caution due to compositional data
constraints. They are not recommended for formal statistical
inference.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rescaled CIs (use with caution)</span></span>
<span><span class="va">result_rescaled_ci</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"mpg"</span>,</span>
<span>      predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span><span class="op">)</span>,</span>
<span>      bootstrap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      include_rescaled_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      n_bootstrap <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Note the warning message about interpretation</span></span>
<span><span class="va">result_rescaled_ci</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="co">#&gt;   Variables Raw.RelWeight Rescaled.RelWeight Sign Raw.RelWeight.CI.Lower</span></span>
<span><span class="co">#&gt; 1       cyl     0.2723144           35.46279    -              0.2074584</span></span>
<span><span class="co">#&gt; 2      disp     0.2793550           36.37966    -              0.2068513</span></span>
<span><span class="co">#&gt; 3        hp     0.2162184           28.15755    -              0.1564269</span></span>
<span><span class="co">#&gt;   Raw.RelWeight.CI.Upper Raw.Significant Rescaled.RelWeight.CI.Lower</span></span>
<span><span class="co">#&gt; 1              0.3189092            TRUE                    29.93453</span></span>
<span><span class="co">#&gt; 2              0.3493965            TRUE                    29.69187</span></span>
<span><span class="co">#&gt; 3              0.2645444            TRUE                    20.35935</span></span>
<span><span class="co">#&gt;   Rescaled.RelWeight.CI.Upper</span></span>
<span><span class="co">#&gt; 1                    41.99686</span></span>
<span><span class="co">#&gt; 2                    43.42938</span></span>
<span><span class="co">#&gt; 3                    35.90525</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="real-world-example-diamond-price-analysis">Real-World Example: Diamond Price Analysis<a class="anchor" aria-label="anchor" href="#real-world-example-diamond-price-analysis"></a>
</h2>
<p>Let’s explore a more complex example using the <code>diamonds</code>
dataset to understand what drives diamond prices:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Analyze diamond price drivers (only if ggplot2 is available)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">has_ggplot2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">diamonds_subset</span> <span class="op">&lt;-</span> <span class="va">diamonds</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">price</span>, <span class="va">carat</span>, <span class="va">depth</span>, <span class="va">table</span>, <span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span>  <span class="co"># Sample for faster computation</span></span>
<span></span>
<span>  <span class="va">diamond_rwa</span> <span class="op">&lt;-</span> <span class="va">diamonds_subset</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"price"</span>,</span>
<span>        predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"carat"</span>, <span class="st">"depth"</span>, <span class="st">"table"</span>, <span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"z"</span><span class="op">)</span>,</span>
<span>        bootstrap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        applysigns <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        n_bootstrap <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">diamond_rwa</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Note: Diamond example requires ggplot2 package for the diamonds dataset."</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt;   Variables Raw.RelWeight Rescaled.RelWeight Sign Sign.Rescaled.RelWeight</span></span>
<span><span class="co">#&gt; 1     carat   0.251423940          28.980434    +               28.980434</span></span>
<span><span class="co">#&gt; 2     depth   0.002063606           0.237862    -               -0.237862</span></span>
<span><span class="co">#&gt; 3     table   0.003365265           0.387898    +                0.387898</span></span>
<span><span class="co">#&gt; 4         x   0.203836776          23.495289    +               23.495289</span></span>
<span><span class="co">#&gt; 5         y   0.204268515          23.545054    +               23.545054</span></span>
<span><span class="co">#&gt; 6         z   0.202606351          23.353464    +               23.353464</span></span>
<span><span class="co">#&gt;   Raw.RelWeight.CI.Lower Raw.RelWeight.CI.Upper Raw.Significant</span></span>
<span><span class="co">#&gt; 1           0.2400255147            0.262375640            TRUE</span></span>
<span><span class="co">#&gt; 2           0.0001279062            0.002494479            TRUE</span></span>
<span><span class="co">#&gt; 3          -0.0007742313            0.005219223           FALSE</span></span>
<span><span class="co">#&gt; 4           0.1985014610            0.208487031            TRUE</span></span>
<span><span class="co">#&gt; 5           0.1991547218            0.208987528            TRUE</span></span>
<span><span class="co">#&gt; 6           0.1971501193            0.207597652            TRUE</span></span></code></pre></div>
<div class="section level3">
<h3 id="interpreting-diamond-price-drivers">Interpreting Diamond Price Drivers<a class="anchor" aria-label="anchor" href="#interpreting-diamond-price-drivers"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="va">has_ggplot2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Rank predictors by importance</span></span>
<span>  <span class="va">diamond_importance</span> <span class="op">&lt;-</span> <span class="va">diamond_rwa</span><span class="op">$</span><span class="va">result</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">Rescaled.RelWeight</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Variables</span>, <span class="va">Rescaled.RelWeight</span>, <span class="va">Sign.Rescaled.RelWeight</span>, <span class="va">Raw.Significant</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">diamond_importance</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Model explains this much variance:</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"R-squared:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">diamond_rwa</span><span class="op">$</span><span class="va">rsquare</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt;   Variables Rescaled.RelWeight Sign.Rescaled.RelWeight Raw.Significant</span></span>
<span><span class="co">#&gt; 1     carat          28.980434               28.980434            TRUE</span></span>
<span><span class="co">#&gt; 2         y          23.545054               23.545054            TRUE</span></span>
<span><span class="co">#&gt; 3         x          23.495289               23.495289            TRUE</span></span>
<span><span class="co">#&gt; 4         z          23.353464               23.353464            TRUE</span></span>
<span><span class="co">#&gt; 5     table           0.387898                0.387898           FALSE</span></span>
<span><span class="co">#&gt; 6     depth           0.237862               -0.237862            TRUE</span></span>
<span><span class="co">#&gt; R-squared: 0.868</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="comparison-with-traditional-regression">Comparison with Traditional Regression<a class="anchor" aria-label="anchor" href="#comparison-with-traditional-regression"></a>
</h2>
<p>Let’s compare RWA results with traditional multiple regression to
highlight the differences:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Traditional regression</span></span>
<span><span class="va">lm_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">gear</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">lm_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_model</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># RWA results</span></span>
<span><span class="va">rwa_model</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rwa.html">rwa</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"mpg"</span>, predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span>, <span class="st">"hp"</span>, <span class="st">"gear"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare importance rankings</span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Variable <span class="op">=</span> <span class="va">rwa_model</span><span class="op">$</span><span class="va">predictors</span>,</span>
<span>  RWA_Rescaled <span class="op">=</span> <span class="va">rwa_model</span><span class="op">$</span><span class="va">result</span><span class="op">$</span><span class="va">Rescaled.RelWeight</span>,</span>
<span>  RWA_Rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">rwa_model</span><span class="op">$</span><span class="va">result</span><span class="op">$</span><span class="va">Rescaled.RelWeight</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Variable RWA_Rescaled RWA_Rank</span></span>
<span><span class="co">#&gt; 1      cyl     29.32274        2</span></span>
<span><span class="co">#&gt; 2     disp     28.50999        3</span></span>
<span><span class="co">#&gt; 3       hp     29.79691        1</span></span>
<span><span class="co">#&gt; 4     gear     12.37037        4</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="best-practices-and-recommendations">Best Practices and Recommendations<a class="anchor" aria-label="anchor" href="#best-practices-and-recommendations"></a>
</h2>
<div class="section level3">
<h3 id="sample-size-considerations">1. Sample Size Considerations<a class="anchor" aria-label="anchor" href="#sample-size-considerations"></a>
</h3>
<p>For bootstrap analysis, ensure adequate sample size:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check your sample size</span></span>
<span><span class="va">n_obs</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="va">cyl</span>, <span class="va">disp</span>, <span class="va">hp</span>, <span class="va">gear</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Sample size:"</span>, <span class="va">n_obs</span><span class="op">)</span></span>
<span><span class="co">#&gt; Sample size: 32</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nRecommended bootstrap samples:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="va">n_obs</span> <span class="op">*</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Recommended bootstrap samples: 320</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="variable-selection">2. Variable Selection<a class="anchor" aria-label="anchor" href="#variable-selection"></a>
</h3>
<p>RWA works best with: - <strong>Continuous variables</strong> (though
categorical can be used with caution) - <strong>Theoretically meaningful
predictors</strong> - <strong>Reasonable predictor-to-observation
ratios</strong></p>
</div>
<div class="section level3">
<h3 id="interpreting-confidence-intervals">3. Interpreting Confidence Intervals<a class="anchor" aria-label="anchor" href="#interpreting-confidence-intervals"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Focus on raw weight confidence intervals for inference</span></span>
<span><span class="va">ci_data</span> <span class="op">&lt;-</span> <span class="va">result_bootstrap</span><span class="op">$</span><span class="va">bootstrap</span><span class="op">$</span><span class="va">ci_results</span><span class="op">$</span><span class="va">raw_weights</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ci_data</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 6</span></span></span>
<span><span class="co">#&gt;   variable weight_index ci_lower ci_upper ci_method ci_type</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> cyl                 1   0.173     0.279 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> disp                2   0.158     0.280 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> hp                  3   0.189     0.281 bca       raw    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> gear                4   0.041<span style="text-decoration: underline;">6</span>    0.184 bca       raw</span></span>
<span></span>
<span><span class="co"># Add interpretation based on available columns</span></span>
<span><span class="va">ci_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    significant <span class="op">=</span> <span class="va">ci_lower</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">ci_upper</span> <span class="op">&lt;</span> <span class="fl">0</span>,</span>
<span>    ci_width <span class="op">=</span> <span class="va">ci_upper</span> <span class="op">-</span> <span class="va">ci_lower</span>,</span>
<span>    precision <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">ci_width</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"High precision"</span>,</span>
<span>      <span class="va">ci_width</span> <span class="op">&lt;</span> <span class="fl">0.15</span> <span class="op">~</span> <span class="st">"Medium precision"</span>, </span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"Low precision"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 9</span></span></span>
<span><span class="co">#&gt;   variable weight_index ci_lower ci_upper ci_method ci_type significant ci_width</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> cyl                 1   0.173     0.279 bca       raw     TRUE          0.105 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> disp                2   0.158     0.280 bca       raw     TRUE          0.123 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> hp                  3   0.189     0.281 bca       raw     TRUE          0.092<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> gear                4   0.041<span style="text-decoration: underline;">6</span>    0.184 bca       raw     TRUE          0.143 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: precision &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reporting-results">4. Reporting Results<a class="anchor" aria-label="anchor" href="#reporting-results"></a>
</h3>
<p>When reporting RWA results, include: - <strong>Sample size</strong>
and missing data handling - <strong>Bootstrap parameters</strong> (if
used) - <strong>Raw and rescaled weights</strong> - <strong>Confidence
intervals</strong> for key predictors - <strong>Model
R-squared</strong></p>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting-common-issues">Troubleshooting Common Issues<a class="anchor" aria-label="anchor" href="#troubleshooting-common-issues"></a>
</h2>
<div class="section level3">
<h3 id="multicollinearity-warnings">Multicollinearity Warnings<a class="anchor" aria-label="anchor" href="#multicollinearity-warnings"></a>
</h3>
<p>If you encounter extreme multicollinearity:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check correlation matrix</span></span>
<span><span class="va">cor_matrix</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">disp</span>, <span class="va">hp</span>, <span class="va">gear</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Look for high correlations (&gt;0.9)</span></span>
<span><span class="va">high_cor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">cor_matrix</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0.9</span> <span class="op">&amp;</span> <span class="va">cor_matrix</span> <span class="op">!=</span> <span class="fl">1</span>, arr.ind <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">high_cor</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"High correlations detected between variables"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; High correlations detected between variables</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="missing-data">Missing Data<a class="anchor" aria-label="anchor" href="#missing-data"></a>
</h3>
<p>RWA handles missing data through listwise deletion:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check for missing data patterns</span></span>
<span><span class="va">missing_summary</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="va">cyl</span>, <span class="va">disp</span>, <span class="va">hp</span>, <span class="va">gear</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_all</a></span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">missing_summary</span><span class="op">)</span></span>
<span><span class="co">#&gt;   mpg cyl disp hp gear</span></span>
<span><span class="co">#&gt; 1   0   0    0  0    0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>This package and methodology are based on the following key
references:</p>
<p><strong>Primary Sources:</strong> - <strong>Johnson, J. W.
(2000)</strong>. A heuristic method for estimating the relative weight
of predictor variables in multiple regression. <em>Multivariate
Behavioral Research</em>, 35(1), 1-19. DOI:
10.1207/S15327906MBR3501_1</p>
<ul>
<li>
<strong>Tonidandel, S., &amp; LeBreton, J. M. (2015)</strong>. RWA
Web: A free, comprehensive, web-based, and user-friendly tool for
relative weight analyses. <em>Journal of Business and Psychology</em>,
30(2), 207-216. DOI: 10.1007/s10869-014-9351-z</li>
</ul>
<p><strong>Bootstrap Methods:</strong> - <strong>Tonidandel, S.,
LeBreton, J. M., &amp; Johnson, J. W. (2009)</strong>. Determining the
statistical significance of relative weights. <em>Psychological
Methods</em>, 14(4), 387-399.</p>
<p><strong>Additional Reading:</strong> - Azen, R., &amp; Budescu, D. V.
(2003). The dominance analysis approach for comparing predictors in
multiple regression. <em>Psychological Methods</em>, 8(2), 129-148.</p>
<ul>
<li><p>Grömping, U. (2006). Relative importance for linear regression in
R: The package relaimpo. <em>Journal of Statistical Software</em>,
17(1), 1-27.</p></li>
<li><p>Johnson, J. W., &amp; LeBreton, J. M. (2004). History and use of
relative importance indices in organizational research.
<em>Organizational Research Methods</em>, 7(3), 238-257.</p></li>
</ul>
<p>For the latest methodological developments and detailed technical
information, see: <a href="https://relativeimportance.davidson.edu/" class="external-link uri">https://relativeimportance.davidson.edu/</a></p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>rwa</code> package provides a comprehensive, user-friendly
implementation of Relative Weights Analysis in R. With features
including bootstrap confidence intervals, sign application, and seamless
integration with tidyverse workflows, it offers researchers and analysts
a robust tool for understanding predictor variable importance in the
presence of multicollinearity.</p>
<p>Whether you’re conducting key drivers analysis in market research,
exploring variable importance in predictive modeling, or addressing
multicollinearity in academic research, RWA provides valuable insights
that complement traditional regression approaches.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martin Chan.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
